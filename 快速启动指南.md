# 慈善活动管理系统 - 快速启动指南

## 🚀 5分钟快速启动

### 第1步：安装MySQL数据库

```bash
# 1. 启动MySQL服务（根据您的操作系统）
# Windows: 在服务中启动MySQL
# macOS: brew services start mysql
# Linux: sudo systemctl start mysql

# 2. 创建数据库（在MySQL命令行或Workbench中执行）
mysql -u root -p < api/database/charityevents_db.sql
```

### 第2步：配置数据库连接

打开 `api/event_db.js`，修改以下内容：

```javascript
const pool = mysql.createPool({
    host: 'localhost',
    user: 'root',              // ← 改成您的MySQL用户名
    password: '',              // ← 改成您的MySQL密码
    database: 'charityevents_db'
});
```

### 第3步：启动API服务器

```bash
# 进入API目录
cd api

# 安装依赖
npm install

# 启动服务器
npm start
```

看到以下信息说明成功：
```
✅ 数据库连接成功！
🚀 API服务器运行在: http://localhost:3000
```

### 第4步：启动客户端

**选项A - 使用VS Code Live Server（推荐）**
1. 在VS Code中安装 "Live Server" 扩展
2. 右键点击 `client/index.html`
3. 选择 "Open with Live Server"

**选项B - 使用Python**
```bash
cd client
python -m http.server 8080
```

**选项C - 使用Node.js http-server**
```bash
npm install -g http-server
cd client
http-server -p 8080
```

### 第5步：访问网站

打开浏览器，访问：
- 首页: `http://localhost:8080/index.html`
- 搜索页: `http://localhost:8080/search.html`

---

## ✅ 验证安装

### 测试API是否正常工作

在浏览器中访问：
```
http://localhost:3000/api/events
```

应该看到JSON格式的活动列表。

### 测试前端是否正常工作

1. 打开首页，应该看到活动卡片
2. 点击"搜索活动"，应该能看到筛选表单
3. 点击任一活动的"查看详情"，应该能看到详情页

---

## 🔧 常见问题排查

### 问题1：数据库连接失败

**错误:** `❌ 数据库连接失败: ECONNREFUSED`

**解决:**
1. 确保MySQL服务正在运行
2. 检查 `event_db.js` 中的用户名和密码是否正确

### 问题2：API返回404

**错误:** 浏览器控制台显示 `GET http://localhost:3000/api/events 404`

**解决:**
1. 确保API服务器正在运行（检查终端）
2. 确认端口3000没有被占用

### 问题3：前端页面空白

**错误:** 页面显示但没有活动

**解决:**
1. 打开浏览器开发者工具（F12）
2. 查看Console标签页的错误信息
3. 确认API服务器正在运行
4. 检查是否有CORS错误

### 问题4：CORS错误

**错误:** `Access to fetch at 'http://localhost:3000' ... has been blocked by CORS policy`

**解决:**
- 确保API服务器已安装并启用了cors包（已包含在代码中）
- 重启API服务器

---

## 📝 评分者注意事项

### 运行此项目需要：

1. **Node.js** (版本 14+)
2. **MySQL** (版本 8.0+)
3. 一个简单的HTTP服务器（用于客户端）

### 提交的文件包括：

- `usernameA2-api.zip` - API服务器代码
- `usernameA2-clientside.zip` - 客户端网站代码
- SQL文件在 `api/database/charityevents_db.sql`

### 快速评分测试流程：

1. 导入SQL文件创建数据库
2. 修改 `event_db.js` 中的数据库密码
3. 在 `api/` 目录运行 `npm install && npm start`
4. 在 `client/` 目录启动HTTP服务器
5. 在浏览器中测试三个页面

---

## 📞 需要帮助？

如果遇到问题，请检查：
1. README.md - 完整的安装和使用指南
2. 项目报告.md - 详细的技术说明和设计决策
3. 代码注释 - 所有关键代码都有详细注释

---

**祝您测试顺利！** 🎉

